/*! For license information please see npm.mahal.961de3c0ecb6f1a79790.bundle.js.LICENSE.txt */
(self.webpackChunkmahal_app=self.webpackChunkmahal_app||[]).push([[331],{786:t=>{t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);var r=n(1);n.d(e,"isPrimitive",(function(){return r.isPrimitive})),n.d(e,"isNull",(function(){return r.isNull})),n.d(e,"isArray",(function(){return r.isArray})),n.d(e,"isArrayIndex",(function(){return r.isArrayIndex})),n.d(e,"isObject",(function(){return r.isObject})),n.d(e,"isString",(function(){return r.isString})),n.d(e,"getFromWindow",(function(){return r.getFromWindow})),n.d(e,"nextTick",(function(){return r.nextTick})),n.d(e,"getObjectLength",(function(){return r.getObjectLength})),n.d(e,"merge",(function(){return r.merge})),n.d(e,"setAttribute",(function(){return r.setAttribute})),n.d(e,"forOwn",(function(){return r.forOwn})),n.d(e,"isKeyExist",(function(){return r.isKeyExist})),n.d(e,"getDataype",(function(){return r.getDataype})),n.d(e,"EventBus",(function(){return r.EventBus})),n.d(e,"getAttribute",(function(){return r.getAttribute})),n.d(e,"replaceEl",(function(){return r.replaceEl})),n.d(e,"clone",(function(){return r.clone})),n.d(e,"executeRender",(function(){return r.executeRender})),n.d(e,"initComponent",(function(){return r.initComponent})),n.d(e,"Timer",(function(){return r.Timer})),n.d(e,"createComponent",(function(){return r.createComponent})),n.d(e,"hashifyArray",(function(){return r.hashifyArray})),n.d(e,"promiseResolve",(function(){return r.promiseResolve})),n.d(e,"lazyComponent",(function(){return r.lazyComponent})),n.d(e,"emitStateChange",(function(){return r.emitStateChange}));var i=n(40);n.d(e,"Component",(function(){return i.Component})),n.d(e,"Plugin",(function(){return i.Plugin}));var o=n(66);n.d(e,"Template",(function(){return o.Template})),n.d(e,"Prop",(function(){return o.Prop})),n.d(e,"Children",(function(){return o.Children})),n.d(e,"Formatter",(function(){return o.Formatter})),n.d(e,"Reactive",(function(){return o.Reactive})),n.d(e,"Directive",(function(){return o.Directive})),n.d(e,"Computed",(function(){return o.Computed}));var c=n(30);n.d(e,"ERROR_TYPE",(function(){return c.ERROR_TYPE})),n.d(e,"HTML_TAG",(function(){return c.HTML_TAG})),n.d(e,"LIFECYCLE_EVENT",(function(){return c.LIFECYCLE_EVENT})),n.d(e,"DATA_TYPE",(function(){return c.DATA_TYPE}));var s=n(51);n.d(e,"Mahal",(function(){return s.Mahal}))},function(t,e,n){"use strict";n.r(e);var r=n(2);n.d(e,"isPrimitive",(function(){return r.isPrimitive}));var i=n(3);n.d(e,"isNull",(function(){return i.isNull}));var o=n(4);n.d(e,"isArray",(function(){return o.isArray}));var c=n(5);n.d(e,"isArrayIndex",(function(){return c.isArrayIndex}));var s=n(6);n.d(e,"isObject",(function(){return s.isObject}));var u=n(7);n.d(e,"isString",(function(){return u.isString}));var a=n(8);n.d(e,"getFromWindow",(function(){return a.getFromWindow}));var l=n(9);n.d(e,"nextTick",(function(){return l.nextTick}));var d=n(10);n.d(e,"getObjectLength",(function(){return d.getObjectLength}));var f=n(11);n.d(e,"merge",(function(){return f.merge}));var h=n(12);n.d(e,"setAttribute",(function(){return h.setAttribute}));var _=n(13);n.d(e,"forOwn",(function(){return _.forOwn}));var p=n(14);n.d(e,"isKeyExist",(function(){return p.isKeyExist}));var v=n(15);n.d(e,"getDataype",(function(){return v.getDataype}));var m=n(16);n.d(e,"EventBus",(function(){return m.EventBus}));var E=n(18);n.d(e,"getAttribute",(function(){return E.getAttribute}));var g=n(19);n.d(e,"replaceEl",(function(){return g.replaceEl}));var b=n(17);n.d(e,"clone",(function(){return b.clone}));var y=n(20);n.d(e,"executeRender",(function(){return y.executeRender}));var O=n(59);n.d(e,"initComponent",(function(){return O.initComponent}));var C=n(60);n.d(e,"Timer",(function(){return C.Timer}));var T=n(61);n.d(e,"createComponent",(function(){return T.createComponent}));var L=n(63);n.d(e,"hashifyArray",(function(){return L.hashifyArray}));var j=n(64);n.d(e,"promiseResolve",(function(){return j.promiseResolve}));var P=n(65);n.d(e,"lazyComponent",(function(){return P.lazyComponent}));var w=n(62);n.d(e,"emitStateChange",(function(){return w.emitStateChange}))},function(t,e,n){"use strict";n.r(e),n.d(e,"isPrimitive",(function(){return r}));const r=t=>{switch(typeof t){case"undefined":case"object":return!1}return!0}},function(t,e,n){"use strict";n.r(e),n.d(e,"isNull",(function(){return r}));const r=t=>null==t},function(t,e,n){"use strict";n.r(e),n.d(e,"isArray",(function(){return r}));const r=t=>Array.isArray(t)},function(t,e,n){"use strict";n.r(e),n.d(e,"isArrayIndex",(function(){return r}));const r=t=>t===parseInt(t,10)},function(t,e,n){"use strict";n.r(e),n.d(e,"isObject",(function(){return r}));const r=t=>null!=t&&"object"==typeof t},function(t,e,n){"use strict";n.r(e),n.d(e,"isString",(function(){return r}));const r=t=>"string"==typeof t},function(t,e,n){"use strict";n.r(e),n.d(e,"getFromWindow",(function(){return r}));const r=t=>window[t]},function(t,e,n){"use strict";n.r(e),n.d(e,"nextTick",(function(){return c}));let r=!1,i=[];const o=window.queueMicrotask||(t=>{setTimeout(t,0)}),c=t=>{let e;if(null==t&&(e=new Promise((e=>{t=e}))),i.push(t),r||(r=!0,o((()=>{const t=i.slice(0);i=[],r=!1,t.forEach((t=>{t()}))}))),e)return e}},function(t,e,n){"use strict";n.r(e),n.d(e,"getObjectLength",(function(){return r}));const r=t=>t.length||Object.keys(t).length},function(t,e,n){"use strict";n.r(e),n.d(e,"merge",(function(){return r}));const r=(...t)=>Object.assign({},...t)},function(t,e,n){"use strict";n.r(e),n.d(e,"setAttribute",(function(){return r}));const r=(t,e,n)=>1===t.nodeType&&"value"===e?t.value=n:t.setAttribute(e,n)},function(t,e,n){"use strict";n.r(e),n.d(e,"forOwn",(function(){return r}));const r=(t,e)=>{for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}},function(t,e,n){"use strict";n.r(e),n.d(e,"isKeyExist",(function(){return r}));const r=(t,e)=>null!=t[e]},function(t,e,n){"use strict";n.r(e),n.d(e,"getDataype",(function(){return r}));const r=t=>{if(null==t)return"null";const e=typeof t;return"object"===e&&Array.isArray(t)?"array":e}},function(t,e,n){"use strict";n.r(e),n.d(e,"EventBus",(function(){return i}));var r=n(17);class i{constructor(t){this._events={},this._ctx=t}on(t,e){return null==this._events[t]&&(this._events[t]=[]),this._events[t].push(e),this}off(t,e){if(this._events[t])if(e){const n=this._events[t].indexOf(e);this._events[t].splice(n,1)}else this._events[t]=[]}emit(t,...e){const n=this._events[t]||[];return Promise.all(n.map((t=>{const n=t.call(this._ctx,...e);return n&&n.then?n:Promise.resolve(n)})))}emitLinear(t,...e){const n=Object(r.clone)(this._events[t])||[];let i=0;const o=n.length,c=[],s=()=>{const t=n[i++];if(t){const n=t.call(this._ctx,...e);return n&&n.then?n:Promise.resolve(n)}return Promise.resolve(null)};return new Promise((t=>{const e=()=>{i<o?s().then((t=>{c.push(t),e()})):t(c)};e()}))}destroy(){this._events=null,this._ctx=null}getEvent(t){return this._events[t]}}},function(t,e,n){"use strict";n.r(e),n.d(e,"clone",(function(){return o}));var r=n(6),i=n(4);const o=t=>{if(Object(r.isObject)(t)){const e=Object(i.isArray)(t)?[]:{};for(const n in t)e[n]=null!=t[n]&&Object(r.isObject)(t[n])?o(t[n]):t[n];return e}return t}},function(t,e,n){"use strict";n.r(e),n.d(e,"getAttribute",(function(){return r}));const r=(t,e)=>8===t.nodeType?null:t.getAttribute(e)},function(t,e,n){"use strict";n.r(e),n.d(e,"replaceEl",(function(){return r}));const r=(t,e)=>{t.parentNode.replaceChild(e,t)}},function(t,e,n){"use strict";n.r(e),n.d(e,"executeRender",(function(){return s}));var r=n(21),i=n(51),o=n(30);function c(){return this.render||(()=>(i.Mahal.createRenderer||new r.Logger(o.ERROR_TYPE.RendererNotFound).throwPlain(),i.Mahal.createRenderer(this.template)))()}const s=(t,e)=>c.call(t).call(t,{createElement:r.createElement.bind(t),createTextNode:r.createTextNode.bind(t),format:t.format.bind(t),runExp:r.handleExpression.bind(t),children:e||[]}).then((e=>{t.element=e;const n=r.clearAll.bind(t);return e.addEventListener(o.LIFECYCLE_EVENT.Destroy,n),t.emit(o.LIFECYCLE_EVENT.Mount),t.isMounted=!0,t.on(o.LIFECYCLE_EVENT.Destroy,(()=>{e.removeEventListener(o.LIFECYCLE_EVENT.Destroy,n)})),e}))},function(t,e,n){"use strict";n.r(e);var r=n(22);n.d(e,"Observer",(function(){return r.Observer}));var i=n(25);n.d(e,"doNothing",(function(){return i.doNothing}));var o=n(26);n.d(e,"createCommentNode",(function(){return o.createCommentNode}));var c=n(27);n.d(e,"executeEvents",(function(){return c.executeEvents}));var s=n(28);n.d(e,"createTextNode",(function(){return s.createTextNode}));var u=n(29);n.d(e,"handleExpression",(function(){return u.handleExpression}));var a=n(39);n.d(e,"handleAttribute",(function(){return a.handleAttribute}));var l=n(44);n.d(e,"handleDirective",(function(){return l.handleDirective}));var d=n(47);n.d(e,"handleInPlace",(function(){return d.handleInPlace}));var f=n(48);n.d(e,"createElement",(function(){return f.createElement}));var h=n(36);n.d(e,"emitUpdate",(function(){return h.emitUpdate}));var _=n(49);n.d(e,"clearAll",(function(){return _.clearAll}));var p=n(43);n.d(e,"getAttributeValue",(function(){return p.getAttributeValue}));var v=n(37);n.d(e,"emitError",(function(){return v.emitError}));var m=n(38);n.d(e,"Logger",(function(){return m.Logger}));var E=n(24);n.d(e,"indexOf",(function(){return E.indexOf}));var g=n(50);n.d(e,"replaceIfNull",(function(){return g.replaceIfNull}))},function(t,e,n){"use strict";n.r(e),n.d(e,"Observer",(function(){return c}));var r=n(23),i=n(1),o=n(24);class c{constructor(t,e){this.onChange=t,this.component=e}create(t,e,n=""){const c=this.onChange,s=Object(i.isArray)(t);(e=e||(s?r.ARRAY_MUTABLE_METHODS:Object.keys(t))).forEach((t=>{this.component.__reactives__[n+t]=!0}));const u=Object(i.hashifyArray)(e),a=(t,e,r)=>{const o=`${n}${t}.`;if(null!=r){const t=Object(i.merge)(r,e||{});for(const e in t)c(`${o}${e}`,t[e],r[e])}return this.create(e,null,o)};if(s)return new Proxy(t,{get:(t,e,r)=>u[e]?(...r)=>{const i=t[e](...r);return c(n+e,r),i}:Reflect.get(t,e,r),set:(t,e,r,i)=>{const o=Reflect.set(t,e,r,i);return c(`${n}update`,{key:Number(e),value:r}),o}});const l=new Proxy(t,{deleteProperty(t,e){const r=Object(o.indexOf)(t,e),i=Reflect.deleteProperty(t,e);return c(`${n}delete`,{key:e,index:r}),i},set:(t,e,r,o)=>{const s=t[e];let l;const d=()=>{if(Object(i.isObject)(r)){const n=a(e,r,s);return Reflect.set(t,e,n,o)}return Reflect.set(t,e,r,o)};return u[e]?(l=d(),c(n+e,r,s),n&&c(`${n}update`,{key:e,value:r}),l):n?(l=d(),void 0!==s?t.hasOwnProperty(e)&&c(`${n}update`,{key:e,value:r}):c(`${n}add`,{value:r,key:e}),l):Reflect.set(t,e,r,o)}});return e.forEach((e=>{Object(i.isObject)(t[e])&&(t[e]=a(e,t[e],null))})),l}destroy(){this.onChange=null}}},function(t,e,n){"use strict";n.r(e),n.d(e,"defaultSlotName",(function(){return r})),n.d(e,"ARRAY_MUTABLE_METHODS",(function(){return i}));const r="default",i=["push","pop","splice","shift","unshift","reverse"]},function(t,e,n){"use strict";n.r(e),n.d(e,"indexOf",(function(){return r}));const r=(t,e)=>{let n=-1;for(const r in t)if(++n,r===e)return n;return-1}},function(t,e,n){"use strict";n.r(e),n.d(e,"doNothing",(function(){return r}));const r=()=>{}},function(t,e,n){"use strict";n.r(e),n.d(e,"createCommentNode",(function(){return r}));const r=t=>document.createComment(t||"")},function(t,e,n){"use strict";function r(t,e){t.reduce(((t,e)=>t.then((t=>e.call(this,t)))),Promise.resolve(e))}n.r(e),n.d(e,"executeEvents",(function(){return r}))},function(t,e,n){"use strict";function r(t){return Promise.resolve(document.createTextNode(t))}n.r(e),n.d(e,"createTextNode",(function(){return r}))},function(t,e,n){"use strict";n.r(e),n.d(e,"handleExpression",(function(){return u}));var r=n(30),i=n(1),o=n(35),c=n(36),s=n(37);function u(t,e,n){return"for"===n?o.handleForExp.call(this,e[0],t):t().then((n=>{const o=[],u=()=>{o.shift();const a=()=>{Object(i.nextTick)((()=>{t().then((t=>{Object(i.replaceEl)(n,t),n=t,u()})).catch((t=>{s.emitError.call(this,t)}))}))},l=()=>{o.push(1),1===o.length&&a()};e.forEach((t=>{this.watch(t,l)}));const d=function(){n.removeEventListener(r.LIFECYCLE_EVENT.Destroy,d),e.forEach((t=>{this.unwatch(t,l)}))}.bind(this);n.addEventListener(r.LIFECYCLE_EVENT.Destroy,d),o.length>0&&a(),Object(c.emitUpdate)(this)};return u(),n}))}},function(t,e,n){"use strict";n.r(e);var r=n(31);n.d(e,"ERROR_TYPE",(function(){return r.ERROR_TYPE}));var i=n(32);n.d(e,"HTML_TAG",(function(){return i.HTML_TAG}));var o=n(33);n.d(e,"LIFECYCLE_EVENT",(function(){return o.LIFECYCLE_EVENT}));var c=n(34);n.d(e,"DATA_TYPE",(function(){return c.DATA_TYPE}))},function(t,e,n){"use strict";var r;n.r(e),n.d(e,"ERROR_TYPE",(function(){return r})),function(t){t.InvalidComponent="invalid_component",t.SynTaxError="syntax_error",t.ForExpAsRoot="for_exp_as_root",t.ForOnPrimitiveOrNull="for_on_primitive|null",t.InvalidEventHandler="invalid_event_handler",t.InvalidFormatter="invalid_formatter",t.PropDataTypeMismatch="prop_data_type_mismatch",t.RendererNotFound="createRenderer_not_found",t.MutatingProp="mutating_prop"}(r||(r={}))},function(t,e,n){"use strict";n.r(e),n.d(e,"HTML_TAG",(function(){return r}));const r={};["div","p","b","u","i","span","input","button","table","tr","th","td","thead","tbody","tfoot","slot","target","a","h1","h2","h3","h4","h5","h6","pre","section","video","audio","ul","ol","li","img","nav","br"].forEach((t=>r[t]=!0))},function(t,e,n){"use strict";var r;n.r(e),n.d(e,"LIFECYCLE_EVENT",(function(){return r})),function(t){t.Create="create",t.Destroy="destroy",t.Update="update",t.Mount="mount",t.Error="error"}(r||(r={}))},function(t,e,n){"use strict";var r;n.r(e),n.d(e,"DATA_TYPE",(function(){return r})),function(t){t.String="string",t.Object="object",t.Array="array",t.Number="number",t.Boolean="boolean",t.Null="null",t.Function="function"}(r||(r={}))},function(t,e,n){"use strict";n.r(e),n.d(e,"runForExp",(function(){return l})),n.d(e,"handleForExp",(function(){return d}));var r=n(26),i=n(1),o=n(30),c=n(36),s=n(37),u=n(38),a=n(24);const l=(t,e,n)=>{const r=[];if((Object(i.isPrimitive)(e)||Object(i.isNull)(e))&&new u.Logger(o.ERROR_TYPE.ForOnPrimitiveOrNull,t).throwPlain(),Object(i.isArray)(e))e.map(((t,e)=>{r.push(n(t,e))}));else if(Object(i.isObject)(e))for(const t in e)r.push(n(e[t],t));return r};function d(t,e){let n=Object(r.createCommentNode)(),u=[n],d=this.getState(t);u=u.concat(l(t,d,e));const f=Object(i.isArray)(d);let h={[t]:r=>{l(t,r,e);const o=n.parentNode;let s=n.nextSibling;for(;null!=s;)o.removeChild(s),s=n.nextSibling;if(Object(i.isArray)(r))h[`${t}.push`](r);else{let t=0;Object(i.forOwn)(r,((e,n)=>{t++,p("add",{value:n,key:e,length:t+1})}))}Object(c.emitUpdate)(this)},[`${t}.push`]:e=>{p("splice",[Object(i.getObjectLength)(this.getState(t))-e.length,0,...e])},[`${t}.add`]:t=>{p("add",t)},[`${t}.pop`]:()=>{const e=Object(i.getObjectLength)(this.getState(t));p("splice",[e,1])},[`${t}.shift`]:()=>{p("splice",[0,1])},[`${t}.unshift`]:t=>{p("splice",[0,0,t])},[`${t}.reverse`]:()=>{const e=this.getState(t),n=Object(i.getObjectLength)(e);p("splice",[0,n,...e])},[`${t}.splice`]:t=>{p("splice",t)},[`${t}.delete`]:t=>{p("splice",[t.index,1])},[`${t}.update`]:t=>{p("update",t)}};const _=()=>{n.removeEventListener(o.LIFECYCLE_EVENT.Destroy,_),n=null;for(const t in h)this.unwatch(t,h[t]);h=null};n.addEventListener(o.LIFECYCLE_EVENT.Destroy,_);const p=(r,o)=>{const u=n.parentNode,l=Array.prototype.indexOf.call(u.childNodes,n);switch(r){case"add":const n=this.getState(t),r=Object(i.getObjectLength)(n);e(o.value,o.key).then((t=>{u.insertBefore(t,u.childNodes[l+r])})).catch((t=>{s.emitError.call(this,t)}));break;case"splice":const c=l+o[0];for(let t=1;t<=o[1];t++){const t=u.childNodes[c+1];t&&u.removeChild(t)}const h=[];for(let t=2,n=o[0],r=o.length;t<r;t++,n++)h.push(e(o[t],n).then((t=>{u.insertBefore(t,u.childNodes[l+1+n])})));if(!f)break;const _=o.length-2+o[0],p=this.getState(t).slice(_);Promise.all(h).then((t=>Promise.all(p.map(((t,n)=>e(t,_+n)))))).then((t=>{const e=l+1+o[0]+o.length-2;t.forEach(((t,n)=>{const r=u.childNodes[e+n];u.replaceChild(t,r)}))})).catch((t=>{s.emitError.call(this,t)}));break;case"update":d=this.getState(t);const v=o.key,m=f?v:Object(a.indexOf)(d,v);m>=0&&e(o.value,v).then((t=>{u.replaceChild(t,u.childNodes[l+1+m])})).catch((t=>{s.emitError.call(this,t)}))}Object(c.emitUpdate)(this)};return this.watch(t,h[t]).watch(`${t}.push`,h[`${t}.push`]).watch(`${t}.add`,h[`${t}.add`]).watch(`${t}.splice`,h[`${t}.splice`]).watch(`${t}.update`,h[`${t}.update`]).watch(`${t}.delete`,h[`${t}.delete`]).watch(`${t}.pop`,h[`${t}.pop`]).watch(`${t}.shift`,h[`${t}.shift`]).watch(`${t}.unshift`,h[`${t}.unshift`]).watch(`${t}.reverse`,h[`${t}.reverse`]),u}},function(t,e,n){"use strict";n.r(e),n.d(e,"emitUpdate",(function(){return i}));var r=n(30);const i=t=>{t.isMounted&&t.timer.debounce((()=>{t.emit(r.LIFECYCLE_EVENT.Update)}))}},function(t,e,n){"use strict";n.r(e),n.d(e,"emitError",(function(){return i}));var r=n(30);function i(t,e){console.error(t),this.__app__.emit(r.LIFECYCLE_EVENT.Error,t),this.emit(r.LIFECYCLE_EVENT.Error,t)}},function(t,e,n){"use strict";n.r(e),n.d(e,"Logger",(function(){return i}));var r=n(30);class i{constructor(t,e){this.type=t,this.info_=e,this.msg=this.getMsg_()}logError(){i.error(this.get())}logPlainError(){i.error(this.getPlain())}logWarning(){i.warn(this.get())}get(){return{msg:this.msg,type:this.type}}getPlain(){const t=this.get();return` ${t.msg}\n\ntype : ${t.type}`}getMsg_(){switch(this.type){case r.ERROR_TYPE.PropDataTypeMismatch:let t=`Expected Data type of property ${this.info_.prop} is ${this.info_.exp} but received ${this.info_.got}.\n\n`;return this.info_.template&&(t+=`in template -\n\n"${this.info_.html}"\n\n`),this.info_.file&&(t+=`in file - ${this.info_.file} `),t;case r.ERROR_TYPE.SynTaxError:return this.info_;case r.ERROR_TYPE.ForExpAsRoot:return"For is not allowed in root element. Create a child element instead.";case r.ERROR_TYPE.ForOnPrimitiveOrNull:return`For expression can not be run on null or primitive datatype. Initiate variable ${this.info_} as array or object.`;case r.ERROR_TYPE.InvalidEventHandler:return`Invalid event handler for event "${this.info_.ev}", Handler does not exist in component.`;case r.ERROR_TYPE.InvalidComponent:return`Component "${this.info_.tag}" is not registered. Make sure you have registered component either in parent component or globally.`;case r.ERROR_TYPE.InvalidFormatter:return`Can not find Formatter "${this.info_.formatter}". Make sure you have registered formatter either in component or globally.`;case r.ERROR_TYPE.MutatingProp:return`Do not mutate prop "${this.info_.key}" directly. Instead use a reactive property.\n\nfound in -\n\n${this.info_.html}`;default:return this.msg}}static warn(...t){console.warn("{Palace warn}:",...t)}static error(...t){t[0],console.error("{Palace error}:",...t)}throwPlain(t){const e="{Palace throw}:"+this.getPlain();if(t)return e;throw e}}},function(t,e,n){"use strict";n.r(e),n.d(e,"handleAttribute",(function(){return a}));var r=n(40),i=n(1),o=n(30),c=n(36),s=n(43),u=n(38);function a(t,e,n){if(n){const n=[];if(!e)return n;for(const c in e){const a=e[c];if(t.__props__[c]){const e=Object(s.getAttributeValue)(a,a.v);if(t.__props__[c].type){const n=t.__props__[c].type,r=Object(i.getDataype)(e);n!==r&&this.waitFor(o.LIFECYCLE_EVENT.Mount).then((t=>{new u.Logger(o.ERROR_TYPE.PropDataTypeMismatch,{prop:c,exp:n,got:r,html:this.outerHTML,file:this.file_}).logPlainError()}))}t[c]=Object(i.clone)(e),a.k&&this.watch(a.k,((e,n)=>{n!==e&&(r.Component.shouldCheckProp=!1,t.setState(c,Object(s.getAttributeValue)(a,e)),r.Component.shouldCheckProp=!0)}))}else n.push({key:c,value:Object(s.getAttributeValue)(a,a.v)})}return n}Object(i.forOwn)(e,((e,n)=>{Object(i.setAttribute)(t,e,Object(s.getAttributeValue)(n,n.v)),n.k&&this.watch(n.k,(r=>{Object(i.setAttribute)(t,e,Object(s.getAttributeValue)(n,r)),Object(c.emitUpdate)(this)}))}))}},function(t,e,n){"use strict";n.r(e);var r=n(41);n.d(e,"Component",(function(){return r.Component}));var i=n(42);n.d(e,"Plugin",(function(){return i.Plugin}))},function(t,e,n){"use strict";n.r(e),n.d(e,"Component",(function(){return c}));var r=n(30),i=n(21),o=n(1);class c{constructor(){this.isMounted=!1,this.__eventBus__=new o.EventBus,this.__watchBus__=new o.EventBus,this.timer=new o.Timer,this.children=Object(i.replaceIfNull)(this.children,{}),this.__formatters__=Object(i.replaceIfNull)(this.__formatters__,{}),this.__directive__=Object(i.replaceIfNull)(this.__directive__,{}),this.__props__=Object(i.replaceIfNull)(this.__props__,{}),this.__computed__=Object(i.replaceIfNull)(this.__computed__,{}),this.__reactives__=Object(i.replaceIfNull)(this.__reactives__,{})}onInit(){}setState(t,...e){const n=t.split("."),s=(e,n,s)=>{if(!this.__reactives__[t]){{const e=this.__props__;c.shouldCheckProp&&e[t]&&new i.Logger(r.ERROR_TYPE.MutatingProp,{html:this.outerHTML,key:t}).logPlainError()}o.emitStateChange.call(this,e,n,s)}},u=e[0];let a;if(n.length>1){const r=this.getState(t),i=n.pop(),o=n.join("."),c=o+".",l=this.getState(o);"function"==typeof r?(l[i](...e),s(c+i,e)):(a=l&&l[i],l[i]=u,void 0!==a?s(`${c}update`,{key:i,value:u}):s(`${c}add`,{value:u,key:i}))}else a=this[t],this[t]=u,s(t,u,a)}deleteState(t){const e=t.split("."),n=e.pop(),r=e.join("."),c=r+".",s=this.getState(r),u=Object(i.indexOf)(s,n);Reflect.deleteProperty(s,n),o.emitStateChange.call(this,c+"delete",{index:u,key:n})}watch(t,e){return this.__watchBus__.on(t,e),this}unwatch(t,e){return this.__watchBus__.off(t,e),this}on(t,e){return this.__eventBus__.on(t,e),this}off(t,e){this.__eventBus__.off(t,e)}waitFor(t){let e;return new Promise((n=>{e=()=>{n(null)},this.on(t,e)})).then((n=>{this.off(t,e)}))}emit(t,...e){return this.__eventBus__.emit(t,...e)}emitLinear(t,...e){return this.__eventBus__.emitLinear(t,...e)}find(t){if(8!==this.element.nodeType)return this.element.querySelector(t)}findAll(t){return this.element.querySelectorAll(t)}get outerHTML(){return this.element.outerHTML}format(t,e){const n=this.__app__._formatter;return n[t]?n[t](e):this.__formatters__[t]?this.__formatters__[t](e):void new i.Logger(r.ERROR_TYPE.InvalidFormatter,{formatter:t}).throwPlain()}getState(t){return(Object(o.isArray)(t)?t:t.split(".")).reduce(((t,e)=>t&&t[e]),this)}get global(){return this.__app__.global}getMethod(t){return this[t]}}c.shouldCheckProp=!0},function(t,e,n){"use strict";n.r(e),n.d(e,"Plugin",(function(){return r}));class r{constructor(){}}},function(t,e,n){"use strict";n.r(e),n.d(e,"getAttributeValue",(function(){return r}));const r=(t,e)=>{const n=t.v;return t.m?n():e}},function(t,e,n){"use strict";n.r(e),n.d(e,"handleDirective",(function(){return c}));var r=n(1),i=n(45),o=n(30);function c(t,e,n){e&&Object(r.forOwn)(e,((e,c)=>{const s=this.__directive__[e]||this.__app__._directives[e];if(s){const e=c;e.isComponent=n;const u=Object(r.merge)(i.genericDirective,s.call(this,t,e));let a=[];Object(r.nextTick)((()=>{const r=()=>{u.destroyed(),n||t.removeEventListener(o.LIFECYCLE_EVENT.Destroy,r),c.props.forEach(((t,e)=>{this.unwatch(t,a[e])})),t=null,a=null};n?t.on(o.LIFECYCLE_EVENT.Destroy,r):t.addEventListener(o.LIFECYCLE_EVENT.Destroy,r),c.props.forEach(((t,n)=>{const r=(t,r)=>{r!==t&&(e.value[n]=t,u.valueUpdated())};this.watch(t,r),a.push(r)})),u.inserted()}))}}))}},function(t,e,n){"use strict";n.r(e);var r=n(46);n.d(e,"genericDirective",(function(){return r.genericDirective}))},function(t,e,n){"use strict";n.r(e),n.d(e,"genericDirective",(function(){return i}));var r=n(25);const i={inserted:r.doNothing,valueUpdated:r.doNothing,destroyed:r.doNothing}},function(t,e,n){"use strict";n.r(e),n.d(e,"handleInPlace",(function(){return c}));var r=n(26),i=n(48),o=n(29);function c(t,e){const n=e.attr.of;if(!n)return Object(r.createCommentNode)();delete e.attr.of;const c=n.k;return o.handleExpression.call(this,(()=>i.createElement.call(this,this.getState(c),t,e)),c?[c]:[])}},function(t,e,n){"use strict";n.r(e),n.d(e,"createElement",(function(){return p}));var r=n(26),i=n(30),o=n(23),c=n(39),s=n(1),u=n(27),a=n(44),l=n(47),d=n(37),f=n(38);function h(t,e,n){switch(t){case"slot":case"target":n.attr.name||(n.attr.name={v:o.defaultSlotName})}const r=document.createElement(t);if(e.forEach((t=>{r.appendChild(t)})),c.handleAttribute.call(this,r,n.attr,!1),n.on){let t={};const e=n.on;for(const n in e){const o=e[n],c=[];o.modifiers.forEach((t=>{switch(t){case"prevent":c.push((t=>(t.preventDefault(),t)));break;case"stop":c.push((t=>(t.stopPropagation(),t)))}})),o.handlers.forEach((t=>{"function"==typeof t?c.push(t):new f.Logger(i.ERROR_TYPE.InvalidEventHandler,{ev:n}).throwPlain()})),t[n]=t=>{u.executeEvents.call(this,c,t)},r.addEventListener(n,t[n],{capture:Object(s.isKeyExist)(o.option,"capture"),once:Object(s.isKeyExist)(o.option,"once"),passive:Object(s.isKeyExist)(o.option,"passive")})}const o=()=>{r.removeEventListener(i.LIFECYCLE_EVENT.Destroy,o);for(const e in t)r.removeEventListener(e,t[e]);t={}};r.addEventListener(i.LIFECYCLE_EVENT.Destroy,o)}return a.handleDirective.call(this,r,n.dir,!1),r}const _=t=>t instanceof Promise?t.then((t=>t.default)):t.isLazy?_(t.component()):Object(s.promiseResolve)(t);function p(t,e,n){return new Promise(((o,c)=>{if(null==t)return o(Object(r.createCommentNode)());n.attr||(n.attr={}),Promise.all(e).then((r=>{if(i.HTML_TAG[t])return void o(h.call(this,t,r,n));const u=this.children[t]||this.__app__._components[t];u?_(u).then((t=>{const i=Object(s.createComponent)(t,this.__app__),u=s.initComponent.call(this,i,n);Object(s.executeRender)(i,e).then((t=>{let e=i.element,n=i.find("slot[name='default']")||(e.tagName.match(/slot/i)?e:null);n&&r.forEach((t=>{if("TARGET"===t.tagName){const e=i.find(`slot[name='${t.getAttribute("name")}']`);e&&(n=e)}const r=n.parentElement;r?(3===t.nodeType?r.insertBefore(t,n.nextSibling):t.childNodes.forEach((t=>{r.insertBefore(t,n.nextSibling)})),r.removeChild(n)):e=i.element=t})),(u||[]).forEach((t=>{switch(t.key){case"class":t.value=(Object(s.getAttribute)(e,t.key)||"")+" "+t.value;break;case"style":t.value=(Object(s.getAttribute)(e,t.key)||"")+t.value}Object(s.setAttribute)(e,t.key,t.value)})),o(e)})).catch(c)})).catch((t=>{d.emitError.call(this,t,!0)})):"in-place"===t?o(l.handleInPlace.call(this,e,n)):c(new f.Logger(i.ERROR_TYPE.InvalidComponent,{tag:t}).throwPlain(!0))})).catch(c)}))}},function(t,e,n){"use strict";n.r(e),n.d(e,"clearAll",(function(){return i}));var r=n(30);function i(){this.emit(r.LIFECYCLE_EVENT.Destroy).then((t=>{this.__eventBus__.destroy(),this.__watchBus__.destroy(),this.__ob__&&this.__ob__.destroy(),this.element=this.__eventBus__=this.__ob__=null}))}},function(t,e,n){"use strict";n.r(e),n.d(e,"replaceIfNull",(function(){return r}));const r=(t,e)=>null==t?e:t},function(t,e,n){"use strict";n.r(e),n.d(e,"Mahal",(function(){return l}));var r=n(41),i=n(1),o=n(30),c=n(52),s=n(21);const u=new window.CustomEvent(o.LIFECYCLE_EVENT.Destroy);function a(t){t.dispatchEvent(u),t.childNodes.forEach((t=>{a(t)}))}class l{constructor(t,e){if(this.__eventBus__=new i.EventBus,this.global={},this.extend={plugin:(t,e)=>{const n=(new t).setup(this,e);if(n&&Object(i.isObject)(n))for(const t in n){const e=n[t];"function"===Object(i.getDataype)(e)&&(r.Component.prototype[t]=e)}this._plugins.push(t)},component:(t,e)=>{this._components[t]=e},formatter:(t,e)=>{this._formatter[t]=e},directive:(t,e)=>{this._directives[t]=e},set renderer(t){l.createRenderer=t}},this._plugins=[],this._components={fragment:c.FragmentComponent},this._directives={},this._formatter={toS(t){switch(typeof t){case"string":return t;case"number":return t.toString();default:return JSON.stringify(t)}}},this.__componentClass__=t,this.element=Object(i.isString)(e)?document.querySelector(e):e,null==this.element){const t="mahal-app";let e=document.querySelector(t);e?e.innerHTML="":(e=document.createElement("div"),e.id=t,document.body.appendChild(e)),this.element=e,s.Logger.warn("Provided element or element selector is not valid. Using 'mahal-app' as default")}new window.MutationObserver((t=>{t.forEach((t=>{t.removedNodes&&t.removedNodes.forEach((t=>{a(t)}))}))})).observe(this.element,{childList:!0,subtree:!0}),this.extend.directive("model",Object(c.createModelDirective)("input","value")),this.extend.directive("show",c.showDirective),this.extend.directive("class",c.classDirective),this.extend.directive("ref",c.refDirective),this.extend.directive("html",c.htmlDirective)}create(){let t=Object(i.createComponent)(this.__componentClass__,this);return i.initComponent.call(this,t,{}),this.emit(o.LIFECYCLE_EVENT.Create),Object(i.executeRender)(t).then((e=>(this.element.appendChild(e),this.emit(o.LIFECYCLE_EVENT.Mount),t)))}on(t,e){return this.__eventBus__.on(t,e),this}off(t,e){this.__eventBus__.off(t,e)}emit(t,...e){return this.__eventBus__.emit(t,...e)}}},function(t,e,n){"use strict";n.r(e);var r=n(53);n.d(e,"createModelDirective",(function(){return r.createModelDirective}));var i=n(54);n.d(e,"showDirective",(function(){return i.showDirective}));var o=n(55);n.d(e,"classDirective",(function(){return o.classDirective}));var c=n(56);n.d(e,"refDirective",(function(){return c.refDirective}));var s=n(57);n.d(e,"FragmentComponent",(function(){return s.FragmentComponent}));var u=n(58);n.d(e,"htmlDirective",(function(){return u.htmlDirective}))},function(t,e,n){"use strict";n.r(e),n.d(e,"createModelDirective",(function(){return i}));var r=n(21);function i(t,e){return function(n,i){const o=i.props[0];r.handleAttribute.call(this,n,{value:{k:o,v:i[e][0]}},i.isComponent),i.isComponent?n.on(t,(t=>{i.value=[t]})):n.oninput=t=>{i.value=[t.target[e]]}}}},function(t,e,n){"use strict";n.r(e),n.d(e,"showDirective",(function(){return r}));const r=(t,e)=>{const n=()=>{const n=e.value[0];t.style.display=n?"unset":"none"};return n(),{valueUpdated(){n()}}}},function(t,e,n){"use strict";n.r(e),n.d(e,"classDirective",(function(){return i}));var r=n(1);const i=(t,e)=>{const n=e=>{if(Object(r.isObject)(e))for(const r in e)e[r]?n(r):t.classList.remove(r);else t.classList.add(e)},i=()=>{e.value.forEach((t=>{n(t)}))};return i(),{valueUpdated(){i()}}}},function(t,e,n){"use strict";n.r(e),n.d(e,"refDirective",(function(){return r}));const r=function(t,e){const n=e.props[0];return this[n]=t,{destroyed:()=>{this[n]=null}}}},function(t,e,n){"use strict";n.r(e),n.d(e,"FragmentComponent",(function(){return i}));var r=n(41);class i extends r.Component{constructor(){super(),this.template="<slot></slot>"}render(t){return t.createElement.call(this,"slot",[],{})}}},function(t,e,n){"use strict";n.r(e),n.d(e,"htmlDirective",(function(){return i}));var r=n(21);function i(t,e){if(e.isComponent)return;const n=()=>{t.innerHTML=e.value[0]||"",Object(r.emitUpdate)(this)};return n(),{valueUpdated(){n()}}}},function(t,e,n){"use strict";n.r(e),n.d(e,"initComponent",(function(){return s}));var r=n(23),i=n(30),o=n(21),c=n(15);function s(t,e){const n=o.handleAttribute.call(this,t,e.attr,!0);if(o.handleDirective.call(this,t,e.dir,!0),e.on){const n=e.on;for(const e in n){const r=n[e].handlers.filter((t=>"function"==typeof t||(new o.Logger(i.ERROR_TYPE.InvalidEventHandler,{eventName:e}).throwPlain(),!1)));t.on(e,(t=>{o.executeEvents.call(this,r,t)}))}}const s=t.__computed__;for(const e in s){const n=s[e];let i=n.fn.call(t);Object.defineProperty(t,e,{get:()=>i,set(t){i=t}}),n.args.forEach((o=>{let s=[o];switch(Object(c.getDataype)(t[o])){case"array":const t=[...r.ARRAY_MUTABLE_METHODS,"update"].map((t=>`${o}.${t}`));s=s.concat(t);break;case"object":s=s.concat(["add","update","delete"].map((t=>`${o}.${t}`)))}s.forEach((r=>{t.watch(r,(()=>{const r=n.fn.call(t);t.setState(e,r,i),i=r}))}))}))}return t.emit(i.LIFECYCLE_EVENT.Create),t.on(i.LIFECYCLE_EVENT.Destroy,(()=>{t=null})),n}},function(t,e,n){"use strict";n.r(e),n.d(e,"Timer",(function(){return r}));class r{timeout(t){return new Promise((e=>{setTimeout(e,t||0)}))}throttle(t,e=0){this.throttleTimer||(this.throttleTimer=setTimeout((()=>{this.throttleTimer=null,t()}),e))}debounce(t,e=0){clearTimeout(this.throttleTimer),this.throttleTimer=setTimeout((()=>{this.throttleTimer=null,t()}),e)}}},function(t,e,n){"use strict";n.r(e),n.d(e,"createComponent",(function(){return o}));var r=n(21),i=n(62);const o=(t,e)=>{let n=new t;const o=Object.keys(n.__reactives__||{});return n.__app__=e,o.length>0&&(n=new r.Observer(i.emitStateChange.bind(n),n).create(n,o)),n.__eventBus__._ctx=n,n.__watchBus__._ctx=n,n.onInit(),n}},function(t,e,n){"use strict";function r(t,e,n){this.__watchBus__.emit(t,e,n)}n.r(e),n.d(e,"emitStateChange",(function(){return r}))},function(t,e,n){"use strict";n.r(e),n.d(e,"hashifyArray",(function(){return r}));const r=t=>{const e={};return t.forEach((t=>{e[t]=!0})),e}},function(t,e,n){"use strict";n.r(e),n.d(e,"promiseResolve",(function(){return r}));const r=t=>Promise.resolve(t)},function(t,e,n){"use strict";n.r(e),n.d(e,"lazyComponent",(function(){return r}));const r=t=>{if("function"==typeof t)return{isLazy:!0,component:t}}},function(t,e,n){"use strict";n.r(e);var r=n(67);n.d(e,"Template",(function(){return r.Template}));var i=n(68);n.d(e,"Prop",(function(){return i.Prop}));var o=n(69);n.d(e,"Children",(function(){return o.Children}));var c=n(70);n.d(e,"Formatter",(function(){return c.Formatter}));var s=n(71);n.d(e,"Reactive",(function(){return s.Reactive}));var u=n(72);n.d(e,"Directive",(function(){return u.Directive}));var a=n(73);n.d(e,"Computed",(function(){return a.Computed}))},function(t,e,n){"use strict";n.r(e),n.d(e,"Template",(function(){return r}));const r=t=>function(e){return class extends e{constructor(){super(...arguments),this.template=t}}}},function(t,e,n){"use strict";n.r(e),n.d(e,"Prop",(function(){return i}));var r=n(30);const i=t=>(e,n)=>{if(e.__props__||(e.__props__={}),typeof t===r.DATA_TYPE.Function){const e=t.name;r.DATA_TYPE[e]&&(t=e.toLowerCase())}t&&!t.type&&(t={type:t}),e.__props__[n]=t||{}}},function(t,e,n){"use strict";n.r(e),n.d(e,"Children",(function(){return r}));const r=t=>function(e){return class extends e{constructor(){super(...arguments),this.children=t}}}},function(t,e,n){"use strict";n.r(e),n.d(e,"Formatter",(function(){return r}));const r=t=>(e,n,r)=>{e.__formatters__||(e.__formatters__={}),e.__formatters__[t||n]=e[n]}},function(t,e,n){"use strict";n.r(e),n.d(e,"Reactive",(function(){return r}));const r=(t,e)=>{t.__reactives__||(t.__reactives__={}),t.__reactives__[e]=!0}},function(t,e,n){"use strict";n.r(e),n.d(e,"Directive",(function(){return r}));const r=t=>(e,n,r)=>{e.__directive__||(e.__directive__={}),e.__directive__[t||n]=e[n]}},function(t,e,n){"use strict";n.r(e),n.d(e,"Computed",(function(){return r}));const r=(...t)=>(e,n,r)=>{e.__computed__||(e.__computed__={}),e.__computed__[n]={args:t,fn:r.value||r.get}}}])},427:(t,e,n)=>{t.exports=n(786)}}]);